(()=>{"use strict";var t,i={135:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),s=e.n(n),a=e(314),o=e.n(a)()(s());o.push([t.id,"@media screen and (orientation: landscape){.action-panel{width:min(25vw,44.444svh);height:min(52.083vw,92.593svh);padding:min(.521vw,.926svh) min(1.042vw,1.852svh);gap:min(2.604vw,4.63svh)}#point-indicator{font-size:min(.729vw,1.296svh);height:min(.729vw,1.296svh);margin:min(.365vw,.648svh) min(.781vw,1.389svh) min(.365vw,.648svh) 0;letter-spacing:max(-0.026vw,-0.046svh)}.panel-content:first-child .header{margin-bottom:min(.781vw,1.389svh)}.panel-content:not(:first-child) .header{margin-bottom:min(1.302vw,2.315svh)}.header{font-size:min(1.042vw,1.852svh)}.button-block{gap:min(1.042vw,1.852svh)}.point{font-size:min(1.042vw,1.852svh);padding-right:min(1.302vw,2.315svh)}#path{font-size:min(1.042vw,1.852svh);margin-top:min(1.563vw,2.778svh)}}@media screen and (orientation: portrait){.action-panel{width:min(93.75vw,40.541svh);height:min(115.625vw,50svh);padding-top:min(3.125vw,1.351svh);justify-content:space-between}#point-indicator{font-size:min(3.75vw,1.622svh);height:min(3.75vw,1.622svh);margin:min(2.188vw,.946svh) min(4.688vw,2.027svh) min(2.188vw,.946svh) 0;letter-spacing:max(-0.156vw,-0.068svh)}.panel-content .header{margin-bottom:min(4.688vw,2.027svh)}.header{font-size:min(4.688vw,2.027svh)}.button-block{gap:min(3.125vw,1.351svh)}.point{font-size:min(4.688vw,2.027svh);padding-right:min(4.688vw,2.027svh)}#path{font-size:min(4.688vw,2.027svh);margin-top:min(4.688vw,2.027svh);height:min(9.375vw,4.054svh)}}.red-indicator{color:red}.green-indicator{color:#8fe88f}.action-panel{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex-direction:column;box-sizing:border-box}.panel-content{width:100%;display:flex;flex-direction:column}.button-block{width:100%;display:flex;flex-direction:column}#point-indicator{font-weight:bold;align-self:end;font-family:sans-serif}.header{color:#fff;font-family:sans-serif;font-weight:1000;align-self:center}.button-point{width:100%;display:flex;justify-content:space-between}.point{color:#fff;font-family:sans-serif;font-weight:bold;display:flex;align-items:center}#path{color:#fff;font-family:sans-serif;font-weight:1000}",""]);const h=o},249:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),s=e.n(n),a=e(314),o=e.n(a)()(s());o.push([t.id,"p {\n  margin: 0;\n}\n\nbody {\n  background-color: #4d4d4d;\n  margin: 0;\n  height: 100svh;\n  width: 100svw;\n}\n",""]);const h=o},355:(t,i,e)=>{var n=e(72),s=e.n(n),a=e(825),o=e.n(a),h=e(659),l=e.n(h),c=e(56),d=e.n(c),r=e(540),v=e.n(r),u=e(113),p=e.n(u),m=e(249),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=v(),s()(m.A,g),m.A&&m.A.locals&&m.A.locals;var C,b,f,w=e(383),y={};y.styleTagTransform=p(),y.setAttributes=d(),y.insert=l().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=v(),s()(w.A,y),w.A&&w.A.locals&&w.A.locals,function(t){t.CREATING="creating",t.DRAW="draw",t.SELECTING_FIRST="selecting-first",t.SELECTING_SECOND="selecting-second",t.CHANGE_CLOCKWISE="change-clockwise",t.CLEAR="clear",t.NONE="none"}(C||(C={})),function(t){t.FIRST="first",t.SECOND="second"}(b||(b={})),function(t){t.FIRST="first",t.SECOND="second"}(f||(f={}));const E=t=>null===t,P=(t,i)=>new CustomEvent(t,{bubbles:!0,detail:i}),L='<button class="action-button"></button> ';class A extends HTMLElement{constructor(){super(),this.disabled=!1,this.text="",this.button=null,this.addEventListener("click",(()=>{const t=P("action-button-click",{type:this.actionType});this.dispatchEvent(t)}))}connectedCallback(){switch(this.innerHTML=L,console.log(L),this.button=this.getElementsByTagName("button")[0]||null,this.actionType=this.getAttribute("action-type")||C.CREATING,this.actionType){case C.CREATING:this.text="Create points";break;case C.DRAW:this.text="Draw pogygon";break;case C.SELECTING_FIRST:this.text="First point";break;case C.SELECTING_SECOND:this.text="Second point";break;case C.CHANGE_CLOCKWISE:this.text="clockwise order";break;case C.CLEAR:this.text="clear";break;default:this.text=""}this.button&&(this.button.textContent=this.text)}static get observedAttributes(){return["action-type","disabled"]}attributeChangedCallback(t,i,e){i!==e&&("disabled"===t?(this.disabled=!0,e&&this.button&&!this.button.getAttribute("disabled")&&this.button.setAttribute("disabled","true"),!e&&this.button&&this.button.getAttribute("disabled")&&this.button.removeAttribute("disabled")):this.disabled=!1)}}var x=e(135),S={};S.styleTagTransform=p(),S.setAttributes=d(),S.insert=l().bind(null,"head"),S.domAPI=o(),S.insertStyleElement=v(),s()(x.A,S),x.A&&x.A.locals&&x.A.locals;const k="green-indicator",I="red-indicator";function T(){if(!this.pathElement||E(this.firstPathPoint)||E(this.secondPathPoint))return void(this.pathElement.innerHTML="");let t="";const i=this.firstPathPoint,e=this.secondPathPoint,n=Array.from(Array(this.pointAmount).keys());let s=[];if(i===e){if(this.clockwise){const t=n.splice(0,i);s=[...n,...t]}else{const t=n.splice(0,i+1);s=[...t.reverse(),...n.reverse()]}s.forEach((i=>{t+=`p${i+1} - `})),t+=`p${i+1}`}if(i<e)if(this.clockwise)s=n.slice(i,e+1);else{const t=n.slice(0,i+1).reverse(),a=n.slice(e).reverse();s=[...t,...a]}if(i>e)if(this.clockwise){const t=n.slice(i),a=n.slice(0,e+1);s=[...t,...a]}else s=n.slice(e,i+1).reverse();i!==e&&s.forEach(((i,e)=>{t+=`p${i+1}${e+1===s.length?"":" - "}`})),this.pathElement.innerHTML=t?"Path: "+t:""}class N extends HTMLElement{constructor(){super(),this.isMounted=!1,this.firstPathPoint=null,this.secondPathPoint=null,this.pointAmount=0,this.clockwise=!0,this.state=C.NONE,this.pathElement=null,this.pointIndicatorElement=null,this.actionButtonList=[],this.drawButton=null,this.clockwiseButton=null,this.clearButton=null,this.firstPointElement=null,this.secondPointElement=null,this.createPath=T}connectedCallback(){this.innerHTML='<div class="action-panel"> <div class="panel-content"> <p class="header">Create polygon</p> <action-button action-type="creating"></action-button> <p id="point-indicator"></p> <action-button action-type="draw"></action-button> </div> <div class="panel-content"> <p class="header">Create path</p> <div class="button-block"> <div class="button-point"> <action-button action-type="selecting-first"></action-button> <div class="point" id="first-point"></div> </div> <div class="button-point"> <action-button action-type="selecting-second"></action-button> <div class="point" id="second-point"></div> </div> <action-button action-type="change-clockwise"></action-button> <action-button action-type="clear"></action-button> </div> <p id="path"></p> </div> </div> ',this.isMounted=!0,this.pathElement=document.getElementById("path")||null,this.pointIndicatorElement=document.getElementById("point-indicator")||null,this.actionButtonList=Array.from(document.querySelectorAll("action-button")),this.firstPointElement=document.getElementById("first-point")||null,this.secondPointElement=document.getElementById("second-point")||null,this.drawButton=document.querySelector(`action-button[action-type='${C.DRAW}']`),this.clockwiseButton=document.querySelector(`action-button[action-type='${C.CHANGE_CLOCKWISE}']`),this.clearButton=document.querySelector(`action-button[action-type='${C.CLEAR}']`);const t=P("set-action-panel-mounted-state",{isMounted:this.isMounted});this.dispatchEvent(t)}static get observedAttributes(){return["points-amount","first-point","second-point","clockwise","state"]}attributeChangedCallback(t,i,e){if(this.isMounted)switch(t){case"points-amount":{if(!this.pointIndicatorElement)return;const t=+e;if(isNaN(t))return;this.pointAmount=t,this.pointIndicatorElement.innerHTML=`Created ${this.pointAmount} points`,t>2&&t<16?(this.pointIndicatorElement.classList.add(k),this.pointIndicatorElement.classList.remove(I),this.state===C.CREATING&&this.drawButton&&this.drawButton.getAttribute("disabled")&&this.drawButton.removeAttribute("disabled")):(this.pointIndicatorElement.classList.remove(k),this.pointIndicatorElement.classList.add(I),t>0&&this.state===C.CREATING&&this.clearButton&&this.clearButton.getAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),this.state===C.CREATING&&this.drawButton&&!this.drawButton.getAttribute("disabled")&&this.drawButton.setAttribute("disabled","true"));break}case"first-point":{isNaN(+e)||(this.firstPathPoint=+e);const t=E(this.firstPathPoint)?"":`p${this.firstPathPoint+1}`;this.firstPointElement&&(this.firstPointElement.innerHTML=t),E(this.firstPathPoint)||E(this.secondPathPoint)||(this.createPath(),this.clockwiseButton.getAttribute("disabled")&&this.clockwiseButton.removeAttribute("disabled"));break}case"second-point":{isNaN(+e)||(this.secondPathPoint=+e);const t=E(this.secondPathPoint)?"":`p${this.secondPathPoint+1}`;this.secondPointElement&&(this.secondPointElement.innerHTML=t),E(this.firstPathPoint)||E(this.secondPathPoint)||(this.createPath(),this.clockwiseButton.getAttribute("disabled")&&this.clockwiseButton.removeAttribute("disabled"));break}case"clockwise":if(!e)return;this.clockwise=JSON.parse(e),this.createPath();break;case"state":this.state=e,e!==C.NONE&&e!==C.CLEAR&&e!==C.CREATING||this.actionButtonList.forEach((t=>{t.getAttribute("action-type")===C.CREATING&&t.getAttribute("disabled")&&t.removeAttribute("disabled"),t.getAttribute("action-type")===C.CREATING||t.getAttribute("disabled")||t.setAttribute("disabled","true")})),e===C.DRAW&&this.actionButtonList.forEach((t=>{t.getAttribute("action-type")!==C.CREATING&&t.getAttribute("action-type")!==C.DRAW&&t.getAttribute("action-type")!==C.CHANGE_CLOCKWISE||t.getAttribute("disabled")||t.setAttribute("disabled","true"),t.getAttribute("action-type")!==C.SELECTING_FIRST&&t.getAttribute("action-type")!==C.SELECTING_SECOND&&t.getAttribute("action-type")!==C.CLEAR||!t.getAttribute("disabled")||t.removeAttribute("disabled")})),e===C.CLEAR&&(this.firstPathPoint=null,this.secondPathPoint=null,this.firstPointElement&&(this.firstPointElement.innerHTML=""),this.secondPointElement&&(this.secondPointElement.innerHTML=""),this.createPath())}}}var M=e(367),B={};B.styleTagTransform=p(),B.setAttributes=d(),B.insert=l().bind(null,"head"),B.domAPI=o(),B.insertStyleElement=v(),s()(M.A,B),M.A&&M.A.locals&&M.A.locals;var R=e(904);const O="loading-hidden",z="loading-visible";function H(){var t,i,e;this.percentPointList=[],this.pointList=[],this.firstSelectedPointId=null,this.secondSelectedPointId=null,delete localStorage.pointList;const n=P("update-point-list",{amount:this.pointList.length});this.dispatchEvent(n),null===(t=this.pointCanvasContext)||void 0===t||t.clearRect(0,0,this.canvasWidth,this.canvasHeight),null===(i=this.lineCanvasContext)||void 0===i||i.clearRect(0,0,this.canvasWidth,this.canvasHeight),null===(e=this.selectCanvasContext)||void 0===e||e.clearRect(0,0,this.canvasWidth,this.canvasHeight)}function G(t){if(!this.selectCanvasContext||E(this.firstSelectedPoint)||E(this.secondSelectedPoint))return;this.selectCanvasContext.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.selectCanvasContext.beginPath(),this.firstSelectedPointId===this.secondSelectedPointId&&(this.pointList.forEach((({x:t,y:i})=>{this.selectCanvasContext.lineTo(t,i)})),this.selectCanvasContext.lineTo(this.pointList[0].x,this.pointList[0].y),this.selectCanvasContext.stroke());const i=t?this.firstSelectedPointId:this.secondSelectedPointId,e=t?this.secondSelectedPointId:this.firstSelectedPointId;if(i<e){const t=this.pointList.slice(i+1,e+1);this.selectCanvasContext.moveTo(this.pointList[i].x,this.pointList[i].y),t.forEach((({x:t,y:i})=>{this.selectCanvasContext.lineTo(t,i)}))}else{if(e>0){const t=this.pointList.slice(1,e+1);this.selectCanvasContext.moveTo(this.pointList[0].x,this.pointList[0].y),t.forEach((({x:t,y:i})=>{this.selectCanvasContext.lineTo(t,i)}))}this.selectCanvasContext.moveTo(this.pointList[i].x,this.pointList[i].y),i<this.pointList.length-1&&this.pointList.slice(i+1,this.pointList.length).forEach((({x:t,y:i})=>{this.selectCanvasContext.lineTo(t,i)})),this.selectCanvasContext.lineTo(this.pointList[0].x,this.pointList[0].y)}this.selectCanvasContext.stroke()}function W(t,i){const e=this.pointList.findIndex((({x:t,y:e})=>Math.sqrt(Math.pow(t-i.x,2)+Math.pow(e-i.y,2))<this.radius));if(-1!==e){if(t===b.FIRST){this.firstSelectedPointId=e;const t=P("set-first-point",{point:this.firstSelectedPointId});this.dispatchEvent(t)}else{this.secondSelectedPointId=e;const t=P("set-second-point",{point:this.secondSelectedPointId});this.dispatchEvent(t)}E(this.firstSelectedPointId)||E(this.secondSelectedPointId)||this.createPath(this.clockwise)}}function _(){this.pointList.length<3||this.pointList.length>15||!this.lineCanvasContext||!this.pointCanvasContext||(this.pointCanvasContext.font=`bold ${4*this.radius}px serif`,this.lineCanvasContext.beginPath(),this.lineCanvasContext.moveTo(this.pointList[0].x,this.pointList[0].y),this.pointList.forEach(((t,i)=>{const e=t.x,n=t.y;this.lineCanvasContext.lineTo(e,n),this.pointCanvasContext.fillText("p"+(i+1),e+2*this.radius,n-2*this.radius)})),this.lineCanvasContext.lineTo(this.pointList[0].x,this.pointList[0].y),this.lineCanvasContext.stroke(),localStorage.pointList=JSON.stringify(this.percentPointList))}function D(){if(this.pointList.length<=1)return;const t=[...this.pointList];t.sort(((t,i)=>Math.sign(t.x-i.x)));const i=[],e=[],n=t[0].x,s=t[0].y,a=t[t.length-1].x,o=t[t.length-1].y;t.forEach((({x:t,y:h})=>{n===t&&s===h||a===t&&o===h||(t=>(o-s)*(t-n)/(a-n)+s)(t)-h>=0?i.push({x:t,y:h}):e.push({x:t,y:h})})),this.pointList=[...i,...e.reverse()],this.percentPointList=this.pointList.map((({x:t,y:i})=>({x:t/this.canvasWidth,y:i/this.canvasHeight}))),this.drawPolygonLines()}function F(t=!1){this.loadingElem&&(t?(this.loadingElem.classList.remove(O),this.loadingElem.classList.add(z)):(this.loadingElem.classList.remove(z),this.loadingElem.classList.add(O)))}function $(){if(!(this.adaptiveElem&&this.lineCanvas&&this.selectCanvas&&this.pointCanvas))return;const t=window.matchMedia("(orientation: landscape)").matches,i=t?this.desktopSize:this.mobileSize;this.unit=this.adaptiveElem.getBoundingClientRect().width/1e3,this.lineCanvas.width=this.unit*i.x,this.lineCanvas.height=this.unit*i.y,this.selectCanvas.width=this.unit*i.x,this.selectCanvas.height=this.unit*i.y,this.pointCanvas.width=this.unit*i.x,this.pointCanvas.height=this.unit*i.y,this.radius=t?6*this.unit:3*this.unit;const e=this.pointCanvas.getBoundingClientRect();this.canvasWidth=e.width,this.canvasHeight=e.height,this.canvasLeft=e.left,this.canvasTop=e.top,this.lineCanvasContext&&(this.lineCanvasContext.lineWidth=2),this.selectCanvasContext&&(this.selectCanvasContext.lineWidth=4,this.selectCanvasContext.strokeStyle="#3399ff"),this.canvasBlock&&this.canvasBlock.classList.remove("display-none"),this.setLoadingElemState(!1),this.pointCanvasContext.fillStyle="#fff4c3",this.pointList=this.percentPointList.map((({x:t,y:i})=>({x:t*this.canvasWidth,y:i*this.canvasHeight}))),this.pointList.forEach((t=>{this.drawPoint(t)})),this.state!==C.CREATING&&this.state!==C.CLEAR&&this.state!==C.NONE&&(this.pointCanvasContext.fillStyle="white",this.drawPolygonLines()),E(this.secondSelectedPointId)||E(this.firstSelectedPointId)||this.state!==C.SELECTING_FIRST&&this.state!==C.SELECTING_SECOND&&this.state!==C.CHANGE_CLOCKWISE||this.createPath(this.clockwise)}function j(){this.lineCanvas.width&&this.lineCanvas.height&&this.selectCanvas.width&&this.selectCanvas.height&&this.pointCanvas.width&&this.pointCanvas.height&&(this.lineCanvas.width=0,this.lineCanvas.height=0,this.selectCanvas.width=0,this.selectCanvas.height=0,this.pointCanvas.width=0,this.pointCanvas.height=0)}function J(t){if(!this.pointList.every((({x:i,y:e})=>Math.sqrt(Math.pow(i-t.x,2)+Math.pow(e-t.y,2))>2*this.radius)))return;const i={x:t.x,y:t.y},e={x:t.x/this.canvasWidth,y:t.y/this.canvasHeight};this.pointList.push(i),this.percentPointList.push(e),this.drawPoint(i);const n=P("update-point-list",{amount:this.pointList.length});this.dispatchEvent(n)}function q({x:t,y:i}){this.pointCanvasContext&&(this.pointCanvasContext.beginPath(),this.pointCanvasContext.arc(t,i,this.radius,0,2*Math.PI),this.pointCanvasContext.fill(),this.pointCanvasContext.stroke())}class K extends HTMLElement{constructor(){super(),this.adaptiveElem=null,this.lineCanvas=null,this.selectCanvas=null,this.pointCanvas=null,this.canvasBlock=null,this.state=C.NONE,this.canvasWidth=300,this.canvasHeight=300,this.canvasLeft=0,this.canvasTop=0,this.clockwise=!0,this.isMounted=!1,this.pointList=[],this.percentPointList=[],this.firstSelectedPointId=null,this.secondSelectedPointId=null,this.loadingElem=null,this.unit=1,this.radius=6,this.mobileSize={x:300,y:340},this.desktopSize={x:1400,y:1e3},this.updateCanvasSize=$,this.setLoadingElemState=F,this.drawPoint=q,this.addPoint=J,this.resetCanvasSize=j,this.sortPointList=D,this.drawPolygonLines=_,this.selectPoint=W,this.createPath=G,this.clearPolygon=H,this.debouncedUpdateCanvasSize=(0,R.A)((()=>{this.updateCanvasSize()}),800),this.pointCanvasClickHander=t=>{this.state===C.CREATING&&this.addPoint({x:t.pageX-this.canvasLeft,y:t.pageY-this.canvasTop}),this.state===C.SELECTING_FIRST&&this.selectPoint(b.FIRST,{x:t.pageX-this.canvasLeft,y:t.pageY-this.canvasTop}),this.state===C.SELECTING_SECOND&&this.selectPoint(b.SECOND,{x:t.pageX-this.canvasLeft,y:t.pageY-this.canvasTop})},this.resize=()=>{this.setLoadingElemState(!0),this.resetCanvasSize(),this.debouncedUpdateCanvasSize()}}connectedCallback(){var t,i,e;if(this.innerHTML='<div class="polygon-canvas"> <div id="adaptive-elem"></div> <div id="canvas-block"> <canvas id="line-canvas" width="300" height="300"> Извините, ваш браузер нет поддерживает&lt;canvas&gt; элемент. </canvas> <canvas id="select-canvas" width="300" height="300"> Извините, ваш браузер нет поддерживает&lt;canvas&gt; элемент. </canvas> <canvas id="point-canvas" width="300" height="300"> Извините, ваш браузер нет поддерживает&lt;canvas&gt; элемент. </canvas> </div> <div id="loading-elem" class="loading-hidden">loading</div> </div> ',this.lineCanvas=document.getElementById("line-canvas")||null,this.selectCanvas=document.getElementById("select-canvas")||null,this.pointCanvas=document.getElementById("point-canvas")||null,this.adaptiveElem=document.getElementById("adaptive-elem")||null,this.loadingElem=document.getElementById("loading-elem")||null,this.canvasBlock=document.getElementById("canvas-block")||null,this.pointCanvasContext=(null===(t=this.pointCanvas)||void 0===t?void 0:t.getContext("2d"))||null,this.lineCanvasContext=(null===(i=this.lineCanvas)||void 0===i?void 0:i.getContext("2d"))||null,this.selectCanvasContext=(null===(e=this.selectCanvas)||void 0===e?void 0:e.getContext("2d"))||null,!(this.lineCanvas&&this.selectCanvas&&this.pointCanvas))return;window.addEventListener("resize",this.resize),this.pointCanvas.addEventListener("click",this.pointCanvasClickHander),this.isMounted=!0;const n=P("set-polygon-canvas-mounted-state",{isMounted:this.isMounted});this.dispatchEvent(n)}static get observedAttributes(){return["state","set-canvas-sizes","clockwise"]}attributeChangedCallback(t,i,e){if(i!==e&&this.isMounted&&this.pointCanvasContext&&this.lineCanvasContext&&this.selectCanvasContext)switch(t){case"state":this.state=e,this.state===C.CREATING&&(this.pointCanvasContext.fillStyle="#fff4c3"),this.state===C.DRAW&&(this.pointCanvasContext.fillStyle="white",localStorage.pointList&&JSON.parse(localStorage.pointList)?(this.percentPointList=JSON.parse(localStorage.pointList),this.pointList=this.percentPointList.map((({x:t,y:i})=>({x:t*this.canvasWidth,y:i*this.canvasHeight}))),this.pointCanvasContext.fillStyle="#fff4c3",this.pointList.forEach((t=>{this.drawPoint(t)})),this.pointCanvasContext.fillStyle="white",this.drawPolygonLines()):this.sortPointList()),this.state===C.CLEAR&&this.clearPolygon();break;case"set-canvas-sizes":e&&JSON.parse(e)&&this.updateCanvasSize();break;case"clockwise":e&&(this.clockwise=JSON.parse(e),this.createPath(this.clockwise))}}disconnectedCallback(){window.removeEventListener("resize",this.resize),this.pointCanvas&&this.pointCanvas.removeEventListener("click",this.pointCanvasClickHander)}}var X=e(644),Y={};function U(t){this.isPolygonCanvasMounted=t.detail.isMounted,this.polygonCanvas=document.getElementsByTagName("polygon-canvas")[0]||null,this.isActionPanelMounted&&this.setChildProps()}function Q(t){this.isActionPanelMounted=t.detail.isMounted,this.actionPanel=document.getElementsByTagName("action-panel")[0]||null,this.isPolygonCanvasMounted&&this.setChildProps()}function V(t){this.actionPanel&&this.actionPanel.setAttribute("points-amount",t.detail.amount)}function Z(t){this.polygonCanvas&&this.actionPanel&&(this.polygonCanvas.setAttribute("state",t.detail.type),this.actionPanel.setAttribute("state",t.detail.type),t.detail.type===C.CHANGE_CLOCKWISE&&(this.clockwise=!this.clockwise,this.polygonCanvas.setAttribute("clockwise",String(this.clockwise)),this.actionPanel.setAttribute("clockwise",String(this.clockwise))))}function tt(t,i){this.actionPanel&&this.actionPanel.setAttribute(`${t}-point`,i)}function it(t){console.log(t.detail.point),this.setPoint(f.FIRST,t.detail.point)}function et(t){this.setPoint(f.SECOND,t.detail.point)}function nt(){if(this.polygonCanvas&&this.actionPanel){if(localStorage.pointList){const t=JSON.parse(localStorage.pointList);t.length<3||t.length>15?delete localStorage.pointList:(this.initialPointAmount=t.length,this.initalState=C.DRAW)}this.polygonCanvas.setAttribute("state",this.initalState),this.polygonCanvas.setAttribute("set-canvas-sizes","true"),this.actionPanel.setAttribute("state",this.initalState),this.actionPanel.setAttribute("clockwise",String(this.clockwise)),this.actionPanel.setAttribute("points-amount",String(this.initialPointAmount))}}Y.styleTagTransform=p(),Y.setAttributes=d(),Y.insert=l().bind(null,"head"),Y.domAPI=o(),Y.insertStyleElement=v(),s()(X.A,Y),X.A&&X.A.locals&&X.A.locals;class st extends HTMLElement{constructor(){super(),this.clockwise=!0,this.initialPointAmount=0,this.initalState=C.NONE,this.actionPanel=null,this.polygonCanvas=null,this.isActionPanelMounted=!1,this.isPolygonCanvasMounted=!1,this.setPoint=tt,this.setChildProps=nt,this.setActionPanelMountedState=Q,this.setPolygonCanvasMountedState=U,this.updatePointsAmount=V,this.actionButtonClick=Z,this.setFirstPoint=it,this.setSecondPoint=et,this.addEventListener("set-polygon-canvas-mounted-state",this.setPolygonCanvasMountedState),this.addEventListener("set-action-panel-mounted-state",this.setActionPanelMountedState),this.addEventListener("set-first-point",it),this.addEventListener("set-second-point",et),this.addEventListener("update-point-list",this.updatePointsAmount),this.addEventListener("action-button-click",this.actionButtonClick)}connectedCallback(){this.innerHTML='<div class="container"> <polygon-canvas></polygon-canvas> <action-panel></action-panel> </div> '}disconnectedCallback(){this.removeEventListener("set-polygon-canvas-mounted-state",this.setPolygonCanvasMountedState),this.removeEventListener("update-mounted-state",this.setActionPanelMountedState),this.removeEventListener("set-first-point",it),this.removeEventListener("set-second-point",et),this.removeEventListener("update-point-list",this.updatePointsAmount),this.removeEventListener("action-button-click",this.actionButtonClick)}}customElements.define("action-button",A),customElements.define("action-panel",N),customElements.define("polygon-canvas",K),customElements.define("controller-component",st)},367:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),s=e.n(n),a=e(314),o=e.n(a)()(s());o.push([t.id,".polygon-canvas{background-color:#999;border-style:solid;border-color:#000}#adaptive-elem{height:0;visibility:hidden}#line-canvas,#select-canvas,#point-canvas{position:absolute;z-index:1}#loading-elem{position:absolute;display:flex;justify-content:center;align-items:center;color:#fff}.loading-visible{visibility:visible;z-index:2}.loading-hidden{visibility:hidden;z-index:0}#canvas-block{position:absolute}.display-none{display:none}@media screen and (orientation: landscape){.polygon-canvas{width:min(72.917vw,129.63svh);height:min(52.083vw,92.593svh);border-width:min(.156vw,.278svh)}#adaptive-elem{width:min(52.083vw,92.593svh)}#loading-elem{width:min(72.917vw,129.63svh);height:min(52.083vw,92.593svh);font-size:min(3.125vw,5.556svh)}}@media screen and (orientation: portrait){.polygon-canvas{width:min(93.75vw,40.541svh);height:min(106.25vw,45.946svh);border-width:min(.625vw,.27svh)}#adaptive-elem{width:min(312.5vw,135.135svh)}#loading-elem{width:min(93.75vw,40.541svh);height:min(106.25vw,45.946svh);font-size:min(9.375vw,4.054svh)}}",""]);const h=o},383:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),s=e.n(n),a=e(314),o=e.n(a)()(s());o.push([t.id,".action-button{background:radial-gradient(circle, rgb(148, 148, 148) 90%, rgb(134, 134, 134) 100%);color:#fff;font-weight:bold;font-family:sans-serif;cursor:pointer;width:100%;border-style:solid;border-color:#000}.action-button:disabled{background:radial-gradient(circle, rgb(92, 90, 90) 90%, rgb(60, 56, 56) 100%);cursor:default}action-button{width:100%}action-button[action-type^=selecting]{width:80%}@media screen and (orientation: landscape){.action-button{height:min(2.083vw,3.704svh);border-width:min(.156vw,.278svh);border-radius:min(.313vw,.556svh);font-size:min(1.042vw,1.852svh)}}@media screen and (orientation: portrait){.action-button{height:min(9.375vw,4.054svh);border-width:min(.938vw,.405svh);border-radius:min(1.25vw,.541svh);font-size:min(4.688vw,2.027svh)}}",""]);const h=o},644:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),s=e.n(n),a=e(314),o=e.n(a)()(s());o.push([t.id,"@media screen and (orientation: landscape){.container{padding:min(1.042vw,1.852svh);justify-content:center}}@media screen and (orientation: portrait){.container{padding:min(2.5vw,1.081svh);flex-direction:column;align-items:center}}.container{width:100%;height:100%;display:flex;box-sizing:border-box;position:relative;overflow:hidden}",""]);const h=o}},e={};function n(t){var s=e[t];if(void 0!==s)return s.exports;var a=e[t]={id:t,exports:{}};return i[t](a,a.exports,n),a.exports}n.m=i,t=[],n.O=(i,e,s,a)=>{if(!e){var o=1/0;for(d=0;d<t.length;d++){for(var[e,s,a]=t[d],h=!0,l=0;l<e.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((t=>n.O[t](e[l])))?e.splice(l--,1):(h=!1,a<o&&(o=a));if(h){t.splice(d--,1);var c=s();void 0!==c&&(i=c)}}return i}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[e,s,a]},n.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return n.d(i,{a:i}),i},n.d=(t,i)=>{for(var e in i)n.o(i,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},n.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),(()=>{var t={792:0};n.O.j=i=>0===t[i];var i=(i,e)=>{var s,a,[o,h,l]=e,c=0;if(o.some((i=>0!==t[i]))){for(s in h)n.o(h,s)&&(n.m[s]=h[s]);if(l)var d=l(n)}for(i&&i(e);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},e=self.webpackChunkpolygon_app=self.webpackChunkpolygon_app||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))})(),n.nc=void 0;var s=n.O(void 0,[278],(()=>n(355)));s=n.O(s)})();